@tailwind base;
@tailwind components;
@tailwind utilities;

/* WilliamSAGI Design System - Global CSS Variables */
/* Version: 1.0 | Generated: 2026-02-28 */

/* ============================================
   1. Font Imports
   ============================================ */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap');

/* ============================================
   2. Typography Tokens
   ============================================ */
:root {
  --font-heading: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
  --font-body: 'Inter', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  /* Type Scale */
  --text-hero: 3rem;
  --text-h1: 2.25rem;
  --text-h2: 1.875rem;
  --text-h3: 1.5rem;
  --text-h4: 1.25rem;
  --text-h5: 1.125rem;
  --text-h6: 1rem;
  --text-body-lg: 1.125rem;
  --text-body: 1rem;
  --text-body-sm: 0.875rem;
  --text-caption: 0.75rem;
  --text-label: 0.75rem;
  --text-code: 0.875rem;

  /* Line Heights */
  --leading-hero: 1.1;
  --leading-h1: 1.2;
  --leading-h2: 1.25;
  --leading-h3: 1.3;
  --leading-h4: 1.4;
  --leading-h5: 1.5;
  --leading-h6: 1.5;
  --leading-body: 1.6;
  --leading-body-lg: 1.7;
  --leading-body-sm: 1.5;
  --leading-caption: 1.4;

  /* Letter Spacing */
  --tracking-tight: -0.02em;
  --tracking-normal: -0.01em;
  --tracking-wide: 0;
  --tracking-wider: 0.01em;
  --tracking-widest: 0.05em;
}

/* ============================================
   3. Spacing Tokens
   ============================================ */
:root {
  --space-unit: 0.25rem;
  
  --space-0: 0;
  --space-1: calc(var(--space-unit) * 1);
  --space-2: calc(var(--space-unit) * 2);
  --space-3: calc(var(--space-unit) * 3);
  --space-4: calc(var(--space-unit) * 4);
  --space-5: calc(var(--space-unit) * 5);
  --space-6: calc(var(--space-unit) * 6);
  --space-8: calc(var(--space-unit) * 8);
  --space-10: calc(var(--space-unit) * 10);
  --space-12: calc(var(--space-unit) * 12);
  --space-16: calc(var(--space-unit) * 16);
  --space-20: calc(var(--space-unit) * 20);
  --space-24: calc(var(--space-unit) * 24);
}

/* ============================================
   4. Layout Tokens
   ============================================ */
:root {
  --container-max: 1280px;
  --container-padding: var(--space-4);
  --container-padding-lg: var(--space-8);

  /* Breakpoints (for reference) */
  --bp-sm: 640px;
  --bp-md: 768px;
  --bp-lg: 1024px;
  --bp-xl: 1280px;
  --bp-2xl: 1536px;
}

/* ============================================
   5. Border Radius Tokens
   ============================================ */
:root {
  --radius-none: 0;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;
}

/* ============================================
   6. Shadow Tokens (Light Mode Default)
   ============================================ */
:root {
  --shadow-sm: 0 1px 2px 0 oklch(0% 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px oklch(0% 0 0 / 0.1), 0 2px 4px -2px oklch(0% 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px oklch(0% 0 0 / 0.1), 0 4px 6px -4px oklch(0% 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px oklch(0% 0 0 / 0.1), 0 8px 10px -6px oklch(0% 0 0 / 0.1);
  --shadow-inner: inset 0 2px 4px 0 oklch(0% 0 0 / 0.05);
}

/* ============================================
   7. PORTAL THEME - Light (溫暖日光)
   ============================================ */
:root[data-theme="portal-light"] {
  /* Base Colors */
  --background: oklch(98% 0.01 85);
  --foreground: oklch(20% 0.02 85);
  
  /* Primary: Amber */
  --primary: oklch(65% 0.15 75);
  --primary-foreground: oklch(98% 0.01 75);
  
  /* Secondary: Warm Gray */
  --secondary: oklch(92% 0.02 80);
  --secondary-foreground: oklch(30% 0.03 80);
  
  /* Muted: Soft Cream */
  --muted: oklch(95% 0.02 85);
  --muted-foreground: oklch(50% 0.03 85);
  
  /* Accent: Teal */
  --accent: oklch(70% 0.12 185);
  --accent-foreground: oklch(98% 0.01 185);
  
  /* Card */
  --card: oklch(100% 0 85);
  --card-foreground: oklch(20% 0.02 85);
  
  /* Border */
  --border: oklch(88% 0.02 85);
  
  /* Semantic Colors */
  --destructive: oklch(55% 0.18 25);
  --destructive-foreground: oklch(98% 0.01 25);
  --success: oklch(65% 0.12 145);
  --success-foreground: oklch(98% 0.01 145);
  --warning: oklch(75% 0.14 75);
  --warning-foreground: oklch(25% 0.02 75);
  --info: oklch(70% 0.1 220);
  --info-foreground: oklch(98% 0.01 220);
}

/* ============================================
   8. PORTAL THEME - Dark (溫暖夜色)
   ============================================ */
:root[data-theme="portal-dark"] {
  /* Minimal Dark (Atmospheric Slate + Amber) — designprompts.dev #19 */
  --background:          #0A0A0F;
  --background-alt:      #12121A;
  --background-elevated: #1A1A24;
  --foreground:          #E8E8F0;
  --foreground-muted:    #8B8B9E;
  --foreground-subtle:   rgba(232,232,240,0.5);

  /* Primary: Amber warm accent */
  --primary:             #F59E0B;
  --primary-foreground:  #0A0A0F;
  --primary-hover:       #FBBF24;
  --primary-glow:        rgba(245,158,11,0.25);

  /* Secondary */
  --secondary:           rgba(255,255,255,0.04);
  --secondary-foreground:#E8E8F0;

  /* Muted */
  --muted:               rgba(255,255,255,0.03);
  --muted-foreground:    #8B8B9E;

  /* Accent */
  --accent:              #F59E0B;
  --accent-foreground:   #0A0A0F;

  /* Card — glass */
  --card:                rgba(255,255,255,0.04);
  --card-hover:          rgba(255,255,255,0.07);
  --card-foreground:     #E8E8F0;

  /* Border */
  --border:              rgba(255,255,255,0.08);
  --border-hover:        rgba(255,255,255,0.14);

  /* Semantic */
  --destructive:         #f87171;
  --destructive-foreground: #0A0A0F;
  --success:             #34d399;
  --success-foreground:  #0A0A0F;
  --warning:             #F59E0B;
  --warning-foreground:  #0A0A0F;
  --info:                #60a5fa;
  --info-foreground:     #0A0A0F;

  /* Shadows */
  --shadow-sm:  0 1px 3px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.05);
  --shadow-md:  0 4px 16px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.05);
  --shadow-lg:  0 8px 32px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.06), 0 0 40px rgba(245,158,11,0.06);
}

/* ============================================
   9. SHOWCASE THEME - Light (專業日光)
   ============================================ */
:root[data-theme="showcase-light"] {
  /* Base Colors */
  --background: oklch(98% 0.01 250);
  --foreground: oklch(18% 0.02 250);
  
  /* Primary: Blue */
  --primary: oklch(55% 0.18 250);
  --primary-foreground: oklch(98% 0.01 250);
  
  /* Secondary: Cool Gray */
  --secondary: oklch(93% 0.02 250);
  --secondary-foreground: oklch(25% 0.03 250);
  
  /* Muted: Soft Blue Gray */
  --muted: oklch(95% 0.02 250);
  --muted-foreground: oklch(50% 0.03 250);
  
  /* Accent: Indigo */
  --accent: oklch(60% 0.15 270);
  --accent-foreground: oklch(98% 0.01 270);
  
  /* Card */
  --card: oklch(100% 0 250);
  --card-foreground: oklch(18% 0.02 250);
  
  /* Border */
  --border: oklch(88% 0.02 250);
  
  /* Semantic Colors */
  --destructive: oklch(55% 0.18 25);
  --destructive-foreground: oklch(98% 0.01 25);
  --success: oklch(60% 0.14 145);
  --success-foreground: oklch(98% 0.01 145);
  --warning: oklch(75% 0.14 75);
  --warning-foreground: oklch(25% 0.02 75);
  --info: oklch(65% 0.12 250);
  --info-foreground: oklch(98% 0.01 250);
}

/* ============================================
   10. SHOWCASE THEME - Dark (科技夜色)
   ============================================ */
:root[data-theme="showcase-dark"] {
  /* Base Colors */
  --background: oklch(15% 0.02 260);
  --foreground: oklch(95% 0.01 250);
  
  /* Primary: Blue */
  --primary: oklch(65% 0.15 250);
  --primary-foreground: oklch(10% 0.02 250);
  
  /* Secondary: Deep Slate */
  --secondary: oklch(25% 0.03 260);
  --secondary-foreground: oklch(90% 0.01 260);
  
  /* Muted: Dark Blue Gray */
  --muted: oklch(22% 0.03 260);
  --muted-foreground: oklch(60% 0.02 260);
  
  /* Accent: Indigo */
  --accent: oklch(70% 0.12 270);
  --accent-foreground: oklch(10% 0.02 270);
  
  /* Card */
  --card: oklch(20% 0.02 260);
  --card-foreground: oklch(95% 0.01 250);
  
  /* Border */
  --border: oklch(28% 0.03 260);
  
  /* Semantic Colors */
  --destructive: oklch(60% 0.16 25);
  --destructive-foreground: oklch(98% 0.01 25);
  --success: oklch(65% 0.12 145);
  --success-foreground: oklch(10% 0.02 145);
  --warning: oklch(80% 0.12 75);
  --warning-foreground: oklch(15% 0.02 75);
  --info: oklch(70% 0.1 250);
  --info-foreground: oklch(10% 0.02 250);

  /* Dark Mode Shadows */
  --shadow-sm: 0 1px 2px 0 oklch(0% 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px oklch(0% 0 0 / 0.4), 0 2px 4px -2px oklch(0% 0 0 / 0.4);
  --shadow-lg: 0 10px 15px -3px oklch(0% 0 0 / 0.4), 0 4px 6px -4px oklch(0% 0 0 / 0.4);
}

/* ============================================
   11. HUB THEME - Light (高效日光)
   ============================================ */
:root[data-theme="hub-light"] {
  /* Base Colors */
  --background: oklch(97% 0.01 280);
  --foreground: oklch(15% 0.02 280);
  
  /* Primary: Violet */
  --primary: oklch(55% 0.18 290);
  --primary-foreground: oklch(98% 0.01 290);
  
  /* Secondary: Neutral Gray */
  --secondary: oklch(92% 0.02 280);
  --secondary-foreground: oklch(25% 0.03 280);
  
  /* Muted: Soft Purple Gray */
  --muted: oklch(94% 0.02 280);
  --muted-foreground: oklch(45% 0.03 280);
  
  /* Accent: Emerald */
  --accent: oklch(60% 0.14 155);
  --accent-foreground: oklch(98% 0.01 155);
  
  /* Card */
  --card: oklch(100% 0 280);
  --card-foreground: oklch(15% 0.02 280);
  
  /* Border */
  --border: oklch(85% 0.02 280);
  
  /* Semantic Colors */
  --destructive: oklch(55% 0.18 25);
  --destructive-foreground: oklch(98% 0.01 25);
  --success: oklch(60% 0.14 145);
  --success-foreground: oklch(98% 0.01 145);
  --warning: oklch(75% 0.14 75);
  --warning-foreground: oklch(20% 0.02 75);
  --info: oklch(60% 0.12 260);
  --info-foreground: oklch(98% 0.01 260);
}

/* ============================================
   12. HUB THEME - Dark (高效夜色)
   ============================================ */
:root[data-theme="hub-dark"] {
  /* Modern Dark (Linear/Cinematic) — designprompts.dev #03 */
  --background:          #050506;
  --background-deep:     #020203;
  --background-elevated: #0a0a0c;
  --foreground:          #EDEDEF;
  --foreground-muted:    #8A8F98;
  --foreground-subtle:   rgba(255,255,255,0.6);

  /* Primary: Indigo #5E6AD2 */
  --primary:             #5E6AD2;
  --primary-foreground:  #ffffff;
  --primary-hover:       #6872D9;
  --primary-glow:        rgba(94,106,210,0.3);

  /* Secondary */
  --secondary:           rgba(255,255,255,0.05);
  --secondary-foreground:#EDEDEF;

  /* Muted */
  --muted:               rgba(255,255,255,0.04);
  --muted-foreground:    #8A8F98;

  /* Accent (same as primary) */
  --accent:              #5E6AD2;
  --accent-foreground:   #ffffff;

  /* Card — glass effect */
  --card:                rgba(255,255,255,0.05);
  --card-hover:          rgba(255,255,255,0.08);
  --card-foreground:     #EDEDEF;

  /* Border */
  --border:              rgba(255,255,255,0.06);
  --border-hover:        rgba(255,255,255,0.10);
  --border-accent:       rgba(94,106,210,0.30);

  /* Semantic */
  --destructive:         #ef4444;
  --destructive-foreground: #ffffff;
  --success:             #4ade80;
  --success-foreground:  #050506;
  --warning:             #fbbf24;
  --warning-foreground:  #050506;
  --info:                #60a5fa;
  --info-foreground:     #050506;

  /* Shadows — multi-layer */
  --shadow-sm:  0 0 0 1px rgba(255,255,255,0.06), 0 2px 8px rgba(0,0,0,0.35);
  --shadow-md:  0 0 0 1px rgba(255,255,255,0.06), 0 4px 20px rgba(0,0,0,0.45);
  --shadow-lg:  0 0 0 1px rgba(255,255,255,0.06), 0 8px 40px rgba(0,0,0,0.55), 0 0 80px rgba(94,106,210,0.08);
  --shadow-glow: 0 0 0 1px rgba(94,106,210,0.5), 0 4px 12px rgba(94,106,210,0.3), inset 0 1px 0 0 rgba(255,255,255,0.2);

  /* Typography */
  --font-body:    "Inter", "Geist Sans", system-ui, sans-serif;
  --font-heading: "Inter", "Geist Sans", system-ui, sans-serif;
  --font-mono:    "JetBrains Mono", "Fira Code", monospace;
}

/* ============================================
   13. Base Styles
   ============================================ */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-body);
  font-size: var(--text-body);
  line-height: var(--leading-body);
  color: var(--foreground);
  background-color: var(--background);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Typography Base */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading);
  font-weight: 600;
  line-height: var(--leading-h3);
  color: var(--foreground);
}

h1 { font-size: var(--text-h1); line-height: var(--leading-h1); letter-spacing: var(--tracking-tight); }
h2 { font-size: var(--text-h2); line-height: var(--leading-h2); letter-spacing: var(--tracking-normal); }
h3 { font-size: var(--text-h3); line-height: var(--leading-h3); letter-spacing: var(--tracking-normal); }
h4 { font-size: var(--text-h4); line-height: var(--leading-h4); }
h5 { font-size: var(--text-h5); line-height: var(--leading-h5); }
h6 { font-size: var(--text-h6); line-height: var(--leading-h6); }

p {
  margin-bottom: var(--space-4);
}

code {
  font-family: var(--font-mono);
  font-size: var(--text-code);
}

/* ============================================
   14. Utility Classes
   ============================================ */
.container {
  width: 100%;
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 0 var(--container-padding);
}

@media (min-width: 1024px) {
  .container {
    padding: 0 var(--container-padding-lg);
  }
}

/* Text utilities */
.text-hero { font-size: var(--text-hero); line-height: var(--leading-hero); letter-spacing: var(--tracking-tight); }
.text-h1 { font-size: var(--text-h1); line-height: var(--leading-h1); letter-spacing: var(--tracking-tight); }
.text-h2 { font-size: var(--text-h2); line-height: var(--leading-h2); letter-spacing: var(--tracking-normal); }
.text-h3 { font-size: var(--text-h3); line-height: var(--leading-h3); letter-spacing: var(--tracking-normal); }
.text-h4 { font-size: var(--text-h4); line-height: var(--leading-h4); }
.text-h5 { font-size: var(--text-h5); line-height: var(--leading-h5); }
.text-h6 { font-size: var(--text-h6); line-height: var(--leading-h6); }
.text-body-lg { font-size: var(--text-body-lg); line-height: var(--leading-body-lg); }
.text-body { font-size: var(--text-body); line-height: var(--leading-body); }
.text-body-sm { font-size: var(--text-body-sm); line-height: var(--leading-body-sm); }
.text-caption { font-size: var(--text-caption); line-height: var(--leading-caption); letter-spacing: var(--tracking-wider); }

.text-muted { color: var(--muted-foreground); }

/* Font families */
.font-heading { font-family: var(--font-heading); }
.font-body { font-family: var(--font-body); }
.font-mono { font-family: var(--font-mono); }

/* ============================================
   15. Component Base Styles
   ============================================ */

/* Card */
.card {
  background: var(--card);
  color: var(--card-foreground);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  padding: var(--space-6);
  box-shadow: var(--shadow-sm);
}

.card-compact { padding: var(--space-4); }
.card-loose { padding: var(--space-8); }

/* Button */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  font-size: var(--text-body-sm);
  font-weight: 500;
  border-radius: var(--radius-md);
  transition: all 150ms ease;
  cursor: pointer;
  border: 1px solid transparent;
  text-decoration: none;
}

.btn-primary {
  background: var(--primary);
  color: var(--primary-foreground);
}
.btn-primary:hover { filter: brightness(1.1); }

.btn-secondary {
  background: var(--secondary);
  color: var(--secondary-foreground);
}
.btn-secondary:hover { filter: brightness(0.95); }

.btn-outline {
  background: transparent;
  border-color: var(--border);
  color: var(--foreground);
}
.btn-outline:hover { background: var(--muted); }

.btn-ghost {
  background: transparent;
  color: var(--foreground);
}
.btn-ghost:hover { background: var(--muted); }

.btn-sm { padding: var(--space-1) var(--space-3); font-size: var(--text-caption); }
.btn-lg { padding: var(--space-3) var(--space-6); font-size: var(--text-body); }

/* Theme Toggle Button */
.theme-toggle {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--secondary);
  color: var(--secondary-foreground);
  border: none;
  cursor: pointer;
  transition: all 150ms ease;
}
.theme-toggle:hover { background: var(--muted); }

/* Focus visible styles for accessibility */
button:focus-visible,
a:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* ============================================
   Modern Dark — Ambient Animations (Hub)
   ============================================ */
@keyframes floatBlob {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50%       { transform: translateY(-20px) rotate(1deg); }
}
@keyframes floatBlobAlt {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50%       { transform: translateY(-15px) rotate(-1deg); }
}
@keyframes accentShimmer {
  0%, 100% { background-position: 0% 50%; }
  50%       { background-position: 100% 50%; }
}
@keyframes pulseGlow {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.4; }
}

/* Hub dark body — ambient grid overlay */
body[data-context="hub"] {
  background-color: #050506;
  background-image:
    radial-gradient(ellipse 70% 55% at 15% 25%, rgba(88,28,220,0.2) 0%, transparent 55%),
    radial-gradient(ellipse 55% 45% at 85% 75%, rgba(94,106,210,0.14) 0%, transparent 50%),
    linear-gradient(rgba(255,255,255,0.018) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.018) 1px, transparent 1px);
  background-size: auto, auto, 64px 64px, 64px 64px;
}

/* Portal dark body — atmospheric slate */
body[data-context="portal"] {
  background-color: #0A0A0F;
  background-image:
    radial-gradient(ellipse 60% 50% at 50% 0%, rgba(245,158,11,0.06) 0%, transparent 50%);
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
